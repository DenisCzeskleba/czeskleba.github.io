---
layout: default
title: Lattice Visualizer
permalink: /visualizer/
---

<!-- Make this page full width under your site layout -->
<style>
  main, .page, .wrapper, .container, .content, .page-content {
    max-width: none !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    text-align: left !important;
  }
</style>

<link rel="stylesheet" href="/visualizer/styles.css?v=fix3">

<div id="app">
  <div id="panel">
    <div class="row">
      <label>Mode</label>
      <select id="mode">
        <option value="demo">Demo</option>
        <option value="lattice" selected>Lattice</option>
      </select>
    </div>

    <div class="row">
      <label>Lattice</label>
      <select id="lattice">
        <option value="SC">SC</option>
        <option value="BCC" selected>BCC</option>
        <option value="FCC">FCC</option>
      </select>
    </div>

    <div class="row" data-for="lattice">
      <label>Target base atoms</label>
      <input id="feCount" type="number" min="100" max="1000000" step="100" value="100">
    </div>

    <div class="row">
      <label>Base visual size</label>
      <input id="feSize" type="range" min="0.01" max="1" step="0.01" value="1">
      <span id="feSizeVal">1.00</span>
    </div>

    <fieldset data-for="lattice">
      <legend>Substitutionals (A/B)</legend>
      <div class="row">
        <label>A fraction (black)</label>
        <input id="cFrac" type="range" min="0" max="0.05" step="0.0005" value="0">
        <span id="cFracVal">0.000</span>
      </div>
      <div class="row">
        <label>A size</label>
        <input id="cSize" type="range" min="0.01" max="5" step="0.01" value="1">
        <span id="cSizeVal">1.00</span>
      </div>
      <div class="row">
        <label>B fraction (red)</label>
        <input id="vFrac" type="range" min="0" max="0.05" step="0.0005" value="0">
        <span id="vFracVal">0.000</span>
      </div>
           
      <div class="row">
        <label>B size</label>
        <input id="vSize" type="range" min="0.01" max="5" step="0.01" value="1">
        <span id="vSizeVal">1.00</span>
      </div>
    </fieldset>

    <fieldset>
      <legend>Interstitial (Blue)</legend>
      <div class="row">
        <label>H count</label>
        <input id="hCount" type="number" min="0" max="30" step="1" value="0">
      </div>
      <div class="row">
        <label>H size</label>
        <input id="hSize" type="range" min="0.01" max="1" step="0.01" value="0.5">
        <span id="hSizeVal">0.50</span>
      </div>
      <div class="row" data-for="demo">
        <label>Show interstitial sites</label>
        <select id="siteScope">
          <option value="canonical" selected>Canonical</option>
          <option value="allFaces">All faces</option>
        </select>
      </div>
      <div class="row" data-for="demo">
        <label>Interstitial site size</label>
        <input id="interstitialSize" type="range" min="0.01" max="1.0" step="0.01" value="0.40">
        <span id="interstitialSizeVal">0.40</span>
      </div>
      <div class="row" data-for="demo">
        <label>Interstitial site alpha</label>
        <input id="interstitialAlpha" type="range" min="0.05" max="1.0" step="0.01" value="0.6">
        <span id="interstitialAlphaVal">0.60</span>
      </div>
    </fieldset>

    <div class="row">
      <label>Random seed</label>
      <input id="seed" type="number" step="1" value="42">
    </div>

    <div class="row">
      <button id="reset">Reset</button>
      <button id="shot">Screenshot</button>
    </div>

    <div id="badge">Fe: 0 | C: 0 | V: 0 | H: 0</div>
  </div>

  
<div id="legend" class="legend">
  <div><span class="swatch" style="background:#888;"></span>Fe (base)</div>
  <div><span class="swatch" style="background:#000;"></span>Subst A — C (black)</div>
  <div><span class="swatch" style="background:#c00;"></span>Subst B — V (red)</div>
  <div><span class="swatch" style="background:rgba(0,170,0,0.6);"></span>Tetrahedral site</div>
  <div><span class="swatch" style="background:rgba(255,136,0,0.6);"></span>Octahedral site</div>
  <div><span class="swatch" style="background:#26f;"></span>H (interstitial)</div>
</div>

  <canvas id="c"></canvas>
</div>

<script type="importmap">
{
  "imports": {
    "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
    "three/examples/jsm/controls/OrbitControls.js": "https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js"
  }
}
</script>

<script type="module" src="/visualizer/main.js?v=fix6"></script>
